<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>FERNANDA ARTE - APP</title>

<!-- FIREBASE SDK -->
<script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore-compat.js"></script>

<style>
*{box-sizing:border-box}
html,body{margin:0;font-family:Arial,sans-serif;background:#f5f5f5;color:#222;height:100%}
header{background:#ff4d79;color:#fff;padding:14px;text-align:center;font-weight:bold;font-size:18px}
.menu{display:flex;overflow-x:auto;background:#ff85a2}
.menu button{flex:1;padding:12px;border:none;background:none;color:#fff;font-weight:bold}
.menu .active{background:#fff;color:#ff4d79}
.container{padding:14px}
.card{background:#fff;padding:14px;border-radius:12px;margin-bottom:14px;box-shadow:0 0 10px rgba(0,0,0,.1)}
.grid{display:grid;grid-template-columns:repeat(2,1fr);gap:10px}
.grid img{width:100%;border-radius:10px}
.btn{padding:12px;border:none;border-radius:10px;background:#ff4d79;color:#fff;font-weight:bold;margin-top:8px;width:100%}
.whats{position:fixed;right:15px;bottom:15px;background:#25d366;color:#fff;padding:16px;border-radius:50%;font-size:20px}
input,textarea{width:100%;padding:10px;margin-top:6px;border-radius:8px;border:1px solid #ccc}
.rm{background:#000;color:#fff;border:none;border-radius:8px;padding:5px 10px;margin-left:6px}
#toast{position:fixed;bottom:90px;left:50%;transform:translateX(-50%);background:#333;color:#fff;padding:10px 18px;border-radius:20px;opacity:0;transition:.3s}
#toast.show{opacity:1}
</style>
</head>

<body>

<div id="toast"></div>

<header>FERNANDA ARTE</header>

<div class="menu">
<button class="active" onclick="show('home',this)">IN√çCIO</button>
<button onclick="show('galeria',this)">GALERIA</button>
<button onclick="show('agenda',this)">AGENDA</button>
<button onclick="show('favoritos',this)">FAVORITOS</button>
<button onclick="show('orcamento',this)">OR√áAMENTO</button>
<button onclick="show('historico',this)">HIST√ìRICO</button>
<button onclick="show('contato',this)">CONTATO</button>
<button onclick="show('loginAdm',this)">ADM</button>
</div>

<div class="container">

<section id="home" class="card">
<h3>BEM-VINDO</h3>
<p>Decora√ß√£o de festas e eventos.</p>
<button class="btn" onclick="compartilhar()">COMPARTILHAR APP</button>
</section>

<section id="galeria" class="card" style="display:none">
<h3>GALERIA</h3>
<div class="grid">
<img src="imagens/foto1.jpg" onclick="favoritar(this.src)">
<img src="imagens/foto2.jpg" onclick="favoritar(this.src)">
<img src="imagens/foto3.jpg" onclick="favoritar(this.src)">
<img src="imagens/foto4.jpg" onclick="favoritar(this.src)">
</div>
</section>

<section id="agenda" class="card" style="display:none">
<h3>AGENDA</h3>
<input type="date" id="dataAgenda">
<button class="btn" onclick="salvarAgenda()">MARCAR DATA</button>
<div id="listaAgenda"></div>
</section>

<section id="favoritos" class="card" style="display:none">
<h3>FAVORITOS</h3>
<div id="favList"></div>
</section>

<section id="orcamento" class="card" style="display:none">
<h3>OR√áAMENTO</h3>
<input id="nome" placeholder="Nome">
<textarea id="msg" placeholder="Mensagem"></textarea>
<button class="btn" onclick="enviar()">ENVIAR</button>
</section>

<section id="historico" class="card" style="display:none">
<h3>HIST√ìRICO</h3>
<div id="hist"></div>
</section>

<section id="contato" class="card" style="display:none">
<button class="btn" onclick="window.open('https://www.instagram.com/fernandaartes')">INSTAGRAM</button>
<button class="btn" onclick="window.open('https://www.facebook.com/share/1CA5gBZU9P/')">FACEBOOK</button>
</section>

<!-- LOGIN ADM REAL (FIREBASE) -->
<section id="loginAdm" class="card" style="display:none">
<h3>LOGIN ADMIN</h3>
<input type="email" id="emailAdm" placeholder="E-mail do administrador">
<input type="password" id="senhaAdm" placeholder="Senha">
<button class="btn" onclick="loginAdm()">ENTRAR</button>
</section>

<!-- PAINEL ADM -->
<section id="painelAdm" class="card" style="display:none">
<h3>PAINEL ADMINISTRATIVO</h3>

<h4>Agenda</h4>
<div id="admAgenda"></div>

<h4>Favoritos</h4>
<div id="admFav"></div>

<h4>Hist√≥rico</h4>
<div id="admHist"></div>

<button class="btn" onclick="logout()">SAIR DO ADM</button>
</section>

</div>

<div class="whats" onclick="abrirWhats()">üí¨</div>

<script>
/* ===========================
   üî• COLE AQUI SEU firebaseConfig
=========================== */
const firebaseConfig = {
  apiKey: "COLE_AQUI",
  authDomain: "COLE_AQUI",
  projectId: "COLE_AQUI",
  storageBucket: "COLE_AQUI",
  messagingSenderId: "COLE_AQUI",
  appId: "COLE_AQUI"
};
/* =========================== */

firebase.initializeApp(firebaseConfig);

const auth = firebase.auth();
const db = firebase.firestore();

const WHATS="558191536381";

function toast(msg){
let t=document.getElementById("toast");
t.innerText=msg;
t.classList.add("show");
setTimeout(()=>t.classList.remove("show"),2000);
}

function show(id,btn){
document.querySelectorAll('section').forEach(s=>s.style.display='none');
document.getElementById(id).style.display='block';
document.querySelectorAll('.menu button').forEach(b=>b.classList.remove('active'));
btn.classList.add('active');
}

function abrirWhats(){window.location.href="https://wa.me/"+WHATS;}
function compartilhar(){navigator.share({title:"Fernanda Arte",text:"Veja esse app de decora√ß√£o!"});}

/* ===========================
   üîê LOGIN ADMIN (REAL)
=========================== */
function loginAdm(){
let email = emailAdm.value;
let senha = senhaAdm.value;

auth.signInWithEmailAndPassword(email, senha)
.then(()=>{
toast("Bem-vindo ADM!");
show('painelAdm',document.querySelectorAll('.menu button')[7]);
carregarTudoAdm();
}).catch(e=>{
toast("Login inv√°lido");
});
}

function logout(){
auth.signOut();
show('home',document.querySelectorAll('.menu button')[0]);
toast("Saiu do ADM");
}

/* ===========================
   üìÖ AGENDA (NUVEM)
=========================== */
function salvarAgenda(){
let d=dataAgenda.value;
if(!d){toast("Escolha a data");return;}

db.collection("agenda").add({data:d})
.then(()=>{
toast("Data salva!");
listarAgenda();
});
}

function listarAgenda(){
listaAgenda.innerHTML="";
db.collection("agenda").get().then(snapshot=>{
snapshot.forEach(doc=>{
listaAgenda.innerHTML+=`<p>${doc.data().data}</p>`;
});
});
}

/* ===========================
   ‚≠ê FAVORITOS (NUVEM)
=========================== */
function favoritar(src){
db.collection("favoritos").add({img:src})
.then(()=>{
toast("Favoritado!");
listarFav();
});
}

function listarFav(){
favList.innerHTML="";
db.collection("favoritos").get().then(snapshot=>{
snapshot.forEach(doc=>{
favList.innerHTML+=`<img width="80" src="${doc.data().img}">`;
});
});
}

/* ===========================
   üì© OR√áAMENTO + HIST√ìRICO
=========================== */
function enviar(){
if(!nome.value || !msg.value){toast("Preencha tudo");return;}

db.collection("historico").add({
nome:nome.value,
msg:msg.value,
data:new Date()
}).then(()=>{
toast("Enviado!");
nome.value="";msg.value="";
listarHist();
});
}

function listarHist(){
hist.innerHTML="";
db.collection("historico").get().then(snapshot=>{
snapshot.forEach(doc=>{
let d=doc.data();
hist.innerHTML+=`<p>${d.nome} - ${d.msg}</p>`;
});
});
}

/* ===========================
   üëë ADMIN - VISUALIZA√á√ÉO
=========================== */
function carregarTudoAdm(){
admAgenda.innerHTML="";
db.collection("agenda").get().then(s=>s.forEach(d=>{
admAgenda.innerHTML+=`<p>${d.data().data}</p>`;
}));

admFav.innerHTML="";
db.collection("favoritos").get().then(s=>s.forEach(d=>{
admFav.innerHTML+=`<p>${d.data().img}</p>`;
}));

admHist.innerHTML="";
db.collection("historico").get().then(s=>s.forEach(d=>{
admHist.innerHTML+=`<p>${d.data().nome} - ${d.data().msg}</p>`;
}));
}

/* CARREGAMENTO INICIAL */
listarAgenda();
listarFav();
listarHist();
</script>

</body>
</html>
